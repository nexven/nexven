<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.unknown.mapper.GameDbMapper">
    <sql id="FromGameDb">
        select gNum, 
	    	   gName,
	    	   gStartDate,
	    	   gMaker,
	    	   gPublisher,
	    	   gServiceType,
	    	   gPlatform,
	    	   gGenre,
	    	   gHomepage,
	    	   gRating,
	    	   gIntroduce
	   	  from GameDb
    </sql>
    
	<select id="selectAll" resultType="com.unknown.model.GameDb">
		<include refid="FromGameDb"/>
	</select>
	
	<select id="selectCount" resultType="int">
        select count(*) from GameDb
    </select>
    
    <select id="selectPage" resultType="com.unknown.model.GameDb" parameterType="hashmap">
        select outer.*
		  from ( select rownum r, inner.*
		  		   from ( select *
		  		   			from GameDb 
		  		   		   order by gNum asc
		  		        ) inner
		  	   ) outer
		 where outer.r &gt;= #{firstItem}
		   and outer.r &lt;= #{lastItem}        
    </select>
	
	<select id="selectBygNum" resultType="com.unknown.model.GameDb"
	    parameterType="int">
	    <include refid="FromGameDb"/>
	   	 where gNum = #{gNum} 
	</select>
	
	
	
	<insert id="insert" parameterType="com.unknown.model.GameDb">
	    insert into GameDb
	    (
	    	   gNum, 
	    	   gName,
	    	   gStartDate,
	    	   gMaker,
	    	   gPublisher,
	    	   gServiceType,
	    	   gPlatform,
	    	   gGenre,
	    	   gHomepage,
	    	   gRating,
	    	   gIntroduce
	    )
	    values
	    (
	    	   #{gNum},
	    	   #{gName},
	    	   #{gStartDate},
	    	   #{gMaker},
	    	   #{gPublisher},
	    	   #{gServiceType},
	    	   #{gPlatform},
	    	   #{gGenre},
	    	   #{gHomepage},
	    	   #{gRating},
	    	   #{gIntroduce}
	    ) 
	</insert>
	
	<update id="updateBygNum" parameterType="com.unknown.model.GameDb">
	    update GameDb
	       set gName = #{gName},
	           gStartDate = #{gStartDate},
	    	   gMaker = #{gMaker},
	    	   gPublisher = #{gPublisher},
	    	   gServiceType = #{gServiceType},
	    	   gPlatform = #{gPlatform},
	    	   gGenre = #{gGenre},
	    	   gHomepage = #{gHomepage},
	    	   gRating = #{gRating},
	    	   gIntroduce = #{gIntroduce}
	     where gNum = #{gNum}
	</update>
	
	<delete id="deleteBygNum" parameterType="int">
	    delete from GameDb
	     where gNum = #{gNum}
	</delete>
</mapper>
